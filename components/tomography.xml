<?xml version='1.0'?>
<definition>
  <group type="NXentry" name="entry">
    <group type="NXinstrument" name="instrument">
      <group type="NXdetector" name="bright_field">
        <field type="NX_INT" name="data">
          <strategy trigger="bright_frame_trigger" mode="STEP"/>
          <dimensions rank="2">
            <dim value="1024" index="1"/>
            <dim value="2048" index="2"/>
          </dimensions>
          <datasource type="CLIENT" name="detector">
            <record name="detector"/>
          </datasource>
        </field>
        <field type="NX_INT" name="sequence_number">
          <strategy trigger="bright_frame_trigger" mode="STEP"/>
        </field>
      </group>
      <group type="NXdetector" name="dark_field">
        <field type="NX_INT" name="data">
          <dimensions rank="2">
            <dim value="1024" index="1"/>
            <dim value="2048" index="2"/>
          </dimensions>
          <strategy trigger="dark_frame_trigger" mode="STEP"/>
          <datasource type="CLIENT" name="detector">
            <record name="detector"/>
          </datasource>
        </field>
        <field type="NX_INT" name="sequence_number">
          <strategy trigger="dark_frame_trigger" mode="STEP"/>
        </field>
      </group>
      <group type="NXdetector" name="sample">
        <doc>detector after sample</doc>
        <field type="NX_INT" name="data">
          <dimensions rank="2">
            <dim value="1024" index="1"/>
            <dim value="2048" index="2"/>
          </dimensions>
          <strategy trigger="sample_frame_trigger" mode="STEP"/>
          <datasource type="CLIENT" name="detector">
            <record name="detector"/>
          </datasource>
        </field>
        <field type="NX_INT" name="sequence_number">
          <strategy trigger="sample_frame_trigger" mode="STEP"/>
        </field>
        <field units="um" type="NX_FLOAT" name="x_pixel_size">1</field>
        <field units="um" type="NX_FLOAT" name="y_pixel_size">1.5</field>
      </group>
    </group>
    <group type="NXmonitor" name="control">
      <field type="NX_FLOAT" name="data">
        <strategy trigger="monitor_trigger" mode="STEP"/>
        <datasource type="CLIENT" name="monitor_counter">
          <record name="monitor_counter"/>
        </datasource>
      </field>
    </group>
    <group type="NXsample" name="sample">
      <field units="degree" type="NX_FLOAT" name="rotation_angle">
        <strategy trigger="sample_frame_trigger" mode="STEP"/>
        <datasource type="CLIENT" name="sample_rotation">
          <record name="sample_rotation"/>
        </datasource>
      </field>
      <field units="mm" type="NX_FLOAT" name="x_translation">
        <strategy trigger="sample_frame_trigger" mode="STEP"/>
        <datasource type="CLIENT" name="sample_x_translation">
          <record name="sample_x_translation"/>
        </datasource>
      </field>
      <field units="mm" type="NX_FLOAT" name="y_translation">
        <strategy trigger="sample_frame_trigger" mode="STEP"/>
        <datasource type="CLIENT" name="sample_y_translation">
          <record name="sample_y_translation"/>
        </datasource>
      </field>
      <field units="mm" type="NX_FLOAT" name="z_translation">
        <strategy trigger="sample_frame_trigger" mode="STEP"/>
        <datasource type="CLIENT" name="sample_z_translation">
          <record name="sample_z_translation"/>
        </datasource>
      </field>
    </group>
    <group type="NXdata" name="data">
      <link target="NXentry/NXinstrument/NXsample/data" name="data"/>
      <link target="NXentry/NXsample/rotation_angle" name="rotation_angle"/>
    </group>
  </group>
</definition>
